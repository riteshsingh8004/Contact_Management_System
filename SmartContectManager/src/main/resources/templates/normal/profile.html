<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="normal/base::layout(~{::section})">

<head>
	<meta charset="UTF-8" />
	<title>This is about page</title>
</head>

<body>
	<section>
		<div th:if="${session.message2}" th:classappend="${session.message2.type}" class="alert" role="alert">
			<p class="text-center" th:text="${session.message2.content}"></p>
			<script type="text/javascript">
				setTimeout(function () {
					// Make an AJAX request to remove the session attribute
					var xhr = new XMLHttpRequest();
					xhr.open('POST', '/user/removeSessionMessage', true);
					xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
					xhr.send();

					// Redirect to the profile page
					window.location.href = '/user/profile';
				}, 2000);
			</script>
		</div>

		<div class="card">
			<div class="card-body">



				<div class="container text-center">

					<img src="" style="height: 200px; width: 200px;" class="my_profile_picture"
						th:src="@{'/image/'+${user.imageUrl}}" alt="profile photo" />
					<h3 class="mt-3"><span th:text="${user.name}"></span></h3>


					<table class="table">
						<thead class="thead-light">
							<tr>
								<th scope="col">#ID</th>
								<th scope="col">SMS2023<span th:text="${user.uid}"></span></th>

							</tr>
						</thead>
						<tbody>
							<tr>
								<th scope="row">Email</th>
								<td><span th:text="${user.email}"></span></td>
							</tr>

							<tr>
								<th scope="row">Role</th>
								<td><span th:text="${user.role}"></span></td>
							</tr>

							<tr>
								<th scope="row">Account Active</th>
								<td><span th:text="${user.enabled}"></span></td>
							</tr>

							<tr>
								<th scope="row">About you</th>
								<td><span th:text="${user.about}"></span></td>
							</tr>

						</tbody>


					</table>
					<button type="submit" class="btn btn-danger btn-sm btn-block">Delete</button>
					<form action="#" method="post" th:action="@{'/user/update-user/'+${user.uid}}" class="mt-2">

						<button type="submit" class="btn btn-primary btn-sm btn-block">Update</button>
					</form>


				</div>
			</div>

		</div>


	</section>
</body>

</html>